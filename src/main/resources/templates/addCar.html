<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="#{page.addcar}"></title>
    <link rel="icon" type="image/png" th:href="@{/favicon/Fav32.png}" sizes="32x32">
    <link rel="stylesheet" th:href="@{/css/addCar.css}">
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css"/>
    <script defer th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <script src="/js/addCar.js" defer ></script>
</head>
<body>

<main>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <div class="container mt-4">
        <form id= "add-car-form" action="addCar" method="post" th:object="${carViewModel}" class="container mt-4">
            <!-- Error messages -->
            <div th:if="${#fields.hasAnyErrors()}" class="alert alert-danger">
                <p>The form contains errors! Please fix them below.</p>
            </div>

            <div class="row mb-3">
                <!-- Brand -->
                <label for="brand" class="col-md-4 col-form-label" th:utext="#{car.brand}">Brand</label>
                <div class="col-md-8">
                    <input type="text" id="brand" name="brand" th:field="*{brand}" class="form-control" placeholder="Brand" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('brand')}" th:errors="*{brand}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <!-- Model -->
                <label for="model" class="col-md-4 col-form-label" th:utext="#{car.model}">Model</label>
                <div class="col-md-8">
                    <input type="text" id="model" name="model" th:field="*{model}" class="form-control" placeholder="Model" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('model')}" th:errors="*{model}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <!-- Engine Size -->
                <label for="engine" class="col-md-4 col-form-label" th:utext="#{car.engine}">Engine Size</label>
                <div class="col-md-8">
                    <input type="number" id="engine" name="engine" th:field="*{engine}" class="form-control" placeholder="Engine Size" step="0.01" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('engine')}" th:errors="*{engine}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <!-- Horsepower -->
                <label for="horsepower" class="col-md-4 col-form-label" th:utext="#{car.horsepower}">Horsepower</label>
                <div class="col-md-8">
                    <input type="number" id="horsepower" name="horsepower" th:field="*{horsepower}" class="form-control" placeholder="Horsepower" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('horsepower')}" th:errors="*{horsepower}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <!-- Year -->
                <label for="year" class="col-md-4 col-form-label" th:utext="#{car.year}">Year</label>
                <div class="col-md-8">
                    <input type="number" id="year" name="year" th:field="*{year}" class="form-control" placeholder="Year" required>
                    <div class="text-danger" th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></div>
                </div>
            </div>

            <div class="row mb-3">
                <!-- Category -->
                <label for="category" class="col-md-4 col-form-label" th:utext="#{car.category}">Category</label>
                <div class="col-md-8">
                    <select id="category" name="category" th:field="*{category}" class="form-select">
                        <option value="F1" th:selected="*{category == 1}">F1</option>
                        <option value="RALLY" th:selected="*{category == 2}">Rally</option>
                        <option value="SPORTS" th:selected="*{category == 3}">Sports</option>
                        <option value="DRAG" th:selected="*{category == 4}">Drag</option>
                    </select>
                    <div class="text-danger" th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="row mt-4">
                <div class="col-12">
                    <button type="submit" class="btn btn-primary btn-lg w-100" th:utext="#{button.addCar}">
                        <i class="bi bi-plus-circle"></i> Add Car
                    </button>
                </div>
            </div>
        </form>
    </div>

     <!--    Footer-->
    <div th:replace="~{fragments/footer :: footer}"></div>
</main>
</body>
</html>
